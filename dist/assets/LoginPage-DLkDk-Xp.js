import{u as k,a as H,b as x,o as r,c as p,d as e,t as a,e as s,f as i,w as S,i as v,g as y,v as I,h as P,j as N,F as E,r as V,k as m,l as A,n as B}from"../gn-invoice.js";const C={class:"login-page"},D={class:"login-page__brand"},F={class:"login-page__brand-inner"},U={class:"login-page__brand-title"},$={class:"login-page__brand-subtitle"},G={class:"login-page__brand-features"},R={class:"login-page__brand-feature"},j={class:"login-page__brand-feature"},q={class:"login-page__brand-feature"},z={class:"login-page__brand-feature"},J={class:"login-page__form-panel"},K={class:"login-page__form-inner"},O={class:"login-page__form-header"},Q={class:"login-page__form-title"},W={class:"login-page__form-subtitle"},X={class:"login-page__field"},Y={class:"login-page__label",for:"login-username"},Z={class:"login-page__input-wrap"},ee=["innerHTML"],se=["placeholder","disabled"],oe={class:"login-page__field"},ne={class:"login-page__label",for:"login-password"},ae={class:"login-page__input-wrap"},le=["innerHTML"],te=["type","placeholder","disabled"],ie=["title"],_e=["innerHTML"],ge={key:0,class:"login-page__error"},de=["innerHTML"],re=["disabled"],pe={key:0,class:"login-page__spinner"},ue=["innerHTML"],ce={class:"login-page__demo"},ve={class:"login-page__demo-label"},me={class:"login-page__demo-accounts"},fe=["onClick","title"],he={class:"login-page__demo-avatar"},be={class:"login-page__demo-name"},we={class:"login-page__demo-role"},ye={class:"login-page__footer-note"},ke={__name:"LoginPage",setup(Me){const f=A(),h=k(),b=H(),{t:n}=x(),_=m(""),g=m(""),u=m(!1),t=m(!1),d=m(""),M=b.users;function w(){d.value=""}function T(c){_.value=c.nameEn.split(" ")[0],g.value="gn2024",d.value=""}async function L(){if(!_.value.trim()||!g.value)return;t.value=!0,d.value="",await new Promise(o=>setTimeout(o,400));const c=h.login(_.value,g.value,b.users);if(t.value=!1,!c.success){d.value=c.error;return}await B(),h.isAdmin?f.push("/dashboard"):h.isAccountantRole?f.push("/accountant"):f.push("/consultant-home")}return(c,o)=>(r(),p("div",C,[e("div",D,[e("div",F,[o[7]||(o[7]=e("div",{class:"login-page__logo"},[e("div",{class:"login-page__logo-icon"},"GN"),e("span",{class:"login-page__logo-text"},"GN Industrial")],-1)),e("h1",U,a(s(n)("page.login.brandTitle")),1),e("p",$,a(s(n)("page.login.brandSubtitle")),1),e("div",G,[e("div",R,[o[3]||(o[3]=e("span",{class:"login-page__brand-feature-dot"},null,-1)),i(" "+a(s(n)("page.login.feature1")),1)]),e("div",j,[o[4]||(o[4]=e("span",{class:"login-page__brand-feature-dot"},null,-1)),i(" "+a(s(n)("page.login.feature2")),1)]),e("div",q,[o[5]||(o[5]=e("span",{class:"login-page__brand-feature-dot"},null,-1)),i(" "+a(s(n)("page.login.feature3")),1)]),e("div",z,[o[6]||(o[6]=e("span",{class:"login-page__brand-feature-dot"},null,-1)),i(" "+a(s(n)("page.login.feature4")),1)])])])]),e("div",J,[e("div",K,[e("div",O,[e("h2",Q,a(s(n)("page.login.welcomeBack")),1),e("p",W,a(s(n)("page.login.signInSubtitle")),1)]),e("form",{class:"login-page__form",onSubmit:S(L,["prevent"])},[e("div",X,[e("label",Y,a(s(n)("form.username")),1),e("div",Z,[e("span",{class:"login-page__input-icon",innerHTML:s(v)("users",16)},null,8,ee),y(e("input",{id:"login-username","onUpdate:modelValue":o[0]||(o[0]=l=>_.value=l),class:"login-page__input",type:"text",placeholder:s(n)("page.login.usernamePlaceholder"),autocomplete:"username",disabled:t.value,onInput:w},null,40,se),[[I,_.value]])])]),e("div",oe,[e("label",ne,a(s(n)("form.password")),1),e("div",ae,[e("span",{class:"login-page__input-icon",innerHTML:s(v)("lock",16)},null,8,le),y(e("input",{id:"login-password","onUpdate:modelValue":o[1]||(o[1]=l=>g.value=l),class:"login-page__input",type:u.value?"text":"password",placeholder:s(n)("page.login.passwordPlaceholder"),autocomplete:"current-password",disabled:t.value,onInput:w},null,40,te),[[P,g.value]]),e("button",{type:"button",class:"login-page__toggle-pw",onClick:o[2]||(o[2]=l=>u.value=!u.value),title:u.value?s(n)("page.login.hidePassword"):s(n)("page.login.showPassword"),tabindex:"-1"},[e("span",{innerHTML:s(v)(u.value?"eye-off":"eye",16)},null,8,_e)],8,ie)])]),d.value?(r(),p("div",ge,[e("span",{innerHTML:s(v)("alert-circle",14)},null,8,de),i(" "+a(d.value),1)])):N("",!0),e("button",{type:"submit",class:"login-page__submit",disabled:t.value||!_.value.trim()||!g.value},[t.value?(r(),p("span",pe)):(r(),p("span",{key:1,innerHTML:s(v)("log-out",16)},null,8,ue)),i(" "+a(t.value?s(n)("page.login.signingIn"):s(n)("page.login.signIn")),1)],8,re)],32),e("div",ce,[e("div",ve,[i(a(s(n)("page.login.demoAccounts"))+" ",1),o[8]||(o[8]=e("code",null,"gn2024",-1))]),e("div",me,[(r(!0),p(E,null,V(s(M),l=>(r(),p("button",{key:l.id,type:"button",class:"login-page__demo-account",onClick:Te=>T(l),title:`Login as ${l.nameEn}`},[e("span",he,a(l.avatar),1),e("span",be,a(l.nameEn.split(" ")[0]),1),e("span",we,a(l.role),1)],8,fe))),128))])]),e("div",ye,a(s(b).company.loginFooterNote||s(n)("page.login.footer")),1)])])]))}};export{ke as default};
